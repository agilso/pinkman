(function(){window.Pinkman=function(){function t(){}return t.collections=[],t.objects=[],t.all=[],t.isNumber=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},t.isArray=function(t){return null!=t&&t.constructor===Array},t}()}).call(this),function(){var t=[].slice;window.PinkmanCommon=function(){function n(){}return n.mixin=function(){var n;return n=1<=arguments.length?t.call(arguments,0):[],Pinkman.mixin.apply(Pinkman,n)},n.mixit=function(){var n;return n=1<=arguments.length?t.call(arguments,0):[],Pinkman.mixit.apply(Pinkman,[this].concat(t.call(n)))},n.isInstance=function(t){return t.constructor===this},n.prototype.isInstanceOf=function(t){return this.constructor===t},n.prototype.apiUrl=function(){return this.config.apiUrl},n.prototype.className=function(){return this.constructor.name},n.prototype.set=function(t,n,i){if(null==i&&(i=""),null!=t&&null!=n)return this[t]=n,"function"==typeof i&&i(this),this.watch&&this.reRender(),!0},n.prototype.render=function(t){if("object"==typeof t)return t.object=this,Pinkman.render(t)},n.prototype.reRender=function(t){if("object"==typeof t)return t.object=this,Pinkman.reRender(t)},n}()}.call(this),function(){var t=function(t,i){function e(){this.constructor=t}for(var o in i)n.call(i,o)&&(t[o]=i[o]);return e.prototype=i.prototype,t.prototype=new e,t.__super__=i.prototype,t},n={}.hasOwnProperty;window.PinkmanObject=function(n){function i(t){this.isPink=!0,this.isObject=!0,this.pinkmanType="object",this.collections=new PinkmanCollection,this.pinkey=Pinkman.all.length+1,Pinkman.objects.push(this),Pinkman.all.push(this),this.initialize(t)}return t(i,n),i.pinkmanType="object",i.privateAttributes=["isPink","isObject","pinkey","config","pinkmanType","collections"],i.prototype.initialize=function(t){var n,e,o;if("object"==typeof t){e=[];for(n in t)o=t[n],i.privateAttributes.indexOf(n)===-1?e.push(this.set(n,o)):e.push(void 0);return e}},i.prototype.assign=function(t){var n,i;if("object"==typeof t){for(n in t)i=t[n],"object"!=typeof i||null==this[n]||null==this[n].isPink||i.isPink?this.set(n,i):this[n].assign(i);return!0}return!1},i.prototype.attributes=function(){var t,n,e;t=new Object;for(n in this)e=this[n],i.privateAttributes.indexOf(n)===-1&&"function"!=typeof e&&(e.isPink?t[n]=e.attributes():t[n]=e);return t},i.prototype.attributesKeys=function(){return Object.keys(this.attributes())},i.prototype.keys=function(){return this.attributesKeys()},i.prototype.toString=function(){var t,n,i,e,o;for(n=[],n.push("("+this.className()+")"),o=this.attributesKeys(),i=0,e=o.length;i<e;i++)t=o[i],n.push(t+": "+this[t]+";");return n.join(" ")},i.prototype.next=function(t){var n;if(null==t&&(t=""),t.isPink&&"collection"===t.pinkmanType)return t.next(this);if(Pinkman.isNumber(t)){if(n=this.collections.get(t),null!=n)return n.next(this)}else if((null==t||""===t)&&this.collections.any())return this.collections.first().next(this)},i.prototype.prev=function(t){var n;if(null==t&&(t=""),t.isPink&&"collection"===t.pinkmanType)return t.prev(this);if(Pinkman.isNumber(t)){if(n=this.collections.get(t),null!=n)return n.prev(this)}else if((null==t||""===t)&&this.collections.any())return this.collections.first().prev(this)},i.prototype.clearCollections=function(){var t,n,i,e,o;for(e=this.collections.collection,o=[],n=0,i=e.length;n<i;n++)t=e[n],o.push(t.remove(this));return o},i.prototype.firstError=function(){var t;if(null!=this.errors)return t=Object.keys(this.errors)[0],t+" "+this.errors[t][0]},i}(window.PinkmanCommon),window.Pinkman.object=window.PinkmanObject}.call(this),function(){var t=function(t,i){function e(){this.constructor=t}for(var o in i)n.call(i,o)&&(t[o]=i[o]);return e.prototype=i.prototype,t.prototype=new e,t.__super__=i.prototype,t},n={}.hasOwnProperty,i=[].slice;window.PinkmanCollection=function(n){function e(){this.isPink=!0,this.isCollection=!0,this.pinkmanType="collection",this.collection=[],this.pinkey=Pinkman.all.length+1,Pinkman.collections.push(this),Pinkman.all.push(this)}return t(e,n),e.pinkmanType="collection",e.privateAttributes=["isPink","isCollection","pinkey","config","pinkmanType"],e.prototype.config={memberClass:PinkmanObject},e.prototype.attributes=function(){return this.collection},e.prototype.count=function(t){var n,i,e,o,r;if(null==t&&(t=""),null!=t&&"function"==typeof t){for(n=0,r=this.collection,i=0,e=r.length;i<e;i++)o=r[i],t(o)&&n++;return n}return this.collection.length},e.prototype.size=function(t){return null==t&&(t=""),this.count(t)},e.prototype.length=function(t){return null==t&&(t=""),this.count(t)},e.prototype.each=function(t){var n,i,e,o;if(null==t&&(t=""),null!=t&&"function"==typeof t)for(o=this.collection,n=0,i=o.length;n<i;n++)e=o[n],t(e);return this},e.prototype.select=function(t,n){var i;return null==n&&(n=""),i=new this.constructor,this.each(function(n){if(t(n))return i.push(n)}),"function"==typeof n&&n(i),i},e.prototype.push=function(t){var n,i,e;if(Pinkman.isArray(t)){for(i=0,e=t.length;i<e;i++)n=t[i],this.pushIndividually(n);return this.include(t)}return this.pushIndividually(t)},e.prototype.unshift=function(t){var n,i,e;if(Pinkman.isArray(t)){for(i=0,e=t.length;i<e;i++)n=t[i],this.unshiftIndividually(n);return this.include(t)}return this.unshiftIndividually(t)},e.prototype.pushIndividually=function(t){return null!=t&&"object"==typeof t&&!this.include(t)&&this.beforeInsertionPrep(t,function(t){return function(n){return t.collection.push(n),n.isObject&&null!=n.collections&&n.collections.push(t),!0}}(this))},e.prototype.unshiftIndividually=function(t){return null!=t&&"object"==typeof t&&!this.include(t)&&this.beforeInsertionPrep(t,function(t){return function(n){return t.collection.unshift(n),n.isObject&&null!=n.collections&&n.collections.push(t),!0}}(this))},e.prototype.beforeInsertionPrep=function(t,n){var i;return null==n&&(n=""),t.isPink||(i=this["new"](),i.assign(t),t=i),"function"==typeof n&&n(t),t},e.prototype.pop=function(){return this.remove(this.last())},e.prototype.shift=function(){return this.remove(this.first())},e.prototype.remove=function(t){var n;if(null!=t)return n=this.collection.indexOf(t),this.collection.splice(n,1),t},e.prototype.removeBy=function(t,n){if(null!=t&&null!=n)return this.remove(this.getBy(t,n))},e.prototype.removeAll=function(){return!this.any()||(this.remove(this.first()),this.removeAll())},e.prototype.include=function(t){var n,i,e,o;if(null!=t&&Pinkman.isArray(t)){for(o=!0,i=0,e=t.length;i<e;i++)n=t[i],this.include(n)||(o=!1);return o}return null!=t&&"object"==typeof t&&(null!=t.id?this.any(function(n){return t.id===n.id}):this.collection.indexOf(t)!==-1)},e.prototype.first=function(t){return null==t&&(t=1),1===t?this.collection[0]:this.collection.slice(0,+(t-1)+1||9e9)},e.prototype.last=function(t){return null==t&&(t=1),1===t?this.collection[this.collection.length-1]:this.collection.slice(this.collection.length-t-1)},e.prototype.any=function(t){return null==t&&(t=""),null!=t&&"function"==typeof t?this.select(t).count()>0:this.count()>0},e.prototype.getBy=function(t,n){var i;if(null!=t&&null!=n)return i=new Object,i[t]=n,this.getByAttributes(i)},e.prototype.getByAttributes=function(t){var n,i,e,o,r,l,s;if(null==t||"object"!=typeof t||!this.any())return null;for(l=this.collection,n=0,e=l.length;n<e;n++){r=l[n],o=!0;for(i in t)s=t[i],r[i]!==s&&(o=!1);if(o)return r}},e.prototype.getByPinkey=function(t){return this.getBy("pinkey",t)},e.prototype.get=function(){var t;if(t=1<=arguments.length?i.call(arguments,0):[],t.length>0){if(Pinkman.isNumber(t[0]))return this.getByPinkey(t[0]);if(2===t.length)return this.getBy.apply(this,t);if("object"==typeof t[0])return this.getByAttributes(t[0])}},e.prototype.find=function(t){var n;if(null!=t)return n=this.getBy("id",t)},e.prototype.next=function(t){var n;return n=this.collection.indexOf(t),this.collection[n+1]},e.prototype.prev=function(t){var n;return n=this.collection.indexOf(t),this.collection[n-1]},e.prototype.logPinkeys=function(){return this.each(function(t){return console.log(t.pinkey)})},e.prototype.uniq=function(t){var n,i,e,o,r,l,s,u;for(null==t&&(t=""),i=[],u=this.collection,e=0,r=u.length;e<r;e++)s=u[e],this.select(function(t){if(null!=s.pinkey&&s.pinkey===t.pinkey&&s!==t&&i.push(t),null!=s.id&&s.id===t.id&&s!==t)return i.push(t)});for(o=0,l=i.length;o<l;o++)n=i[o],this.remove(n);return this},e.prototype.fetchFromArray=function(t){var n,i,e,o;for(i=0,e=t.length;i<e;i++)n=t[i],o=this.beforeInsertionPrep(n),null!=o&&null!=this.find(o.id)?this.find(o.id).assign(o.attributes()):this.push(o);return this},e.prototype.merge=function(t){return Pinkman.isArray(t)?this.fetchFromArray(t):"object"==typeof t&&t.isPink&&t.isCollection?this.fetchFromArray(t.collection):void 0},e.prototype["new"]=function(t){var n;return n=new this.config.memberClass,n.initialize(t),this.push(n),n},e.prototype.reload=function(t){if(null==t&&(t=""),this.any())return this.each(function(n){return function(i){if(null!=i.id)return i.reload(function(i){if(i.pinkey===n.last().pinkey&&"function"===t)return t(n)})}}(this))},e.prototype.makeIndex=function(){var t,n,i,e,o;if(this.any()){for(t=1,o=this.collection,n=0,i=o.length;n<i;n++)e=o[n],e.set("index",t),t++;return!0}return!1},e.prototype.shuffle=function(){var t,n,i,e;if(null!=this.any){for(t=this.collection.length,i=[];0!==t;)n=Math.floor(Math.random()*t),t-=1,e=this.collection[t],this.collection[t]=this.collection[n],i.push(this.collection[n]=e);return i}},e.prototype.filter=function(t,n,i){var e,o,r,l,s;if(null!=t&&null!=n&&""!==n&&"string"==typeof t){if(this.any())for(e=new this.constructor,s=this.collection,o=0,r=s.length;o<r;o++)l=s[o],l[t]===n?e.push(l):null!=l[t]&&"string"==typeof l[t]&&""!==l[t]&&"string"==typeof n&&""!==n&&l[field].toLowerCase().indexOf(n.toLowerCase())>-1&&e.push(l);return null!=i&&"function"==typeof i&&i(e),e}return!1},e}(window.PinkmanCommon),window.Pinkman.collection=window.PinkmanCollection}.call(this),function(){window.Pinkman.mixin=function(t,n){var i;if(null!=t&&"string"==typeof t&&null!=n&&"object"==typeof n)return null==Pinkman.mixins&&(Pinkman.mixins=new Pinkman.collection),i=new Pinkman.object,i.set("mix",n),i.set("name",t),Pinkman.mixins.push(i)},window.Pinkman.mixit=function(t,n){var i,e,o,r;if(e=Pinkman.mixins.getBy("name",n),null!=e){r=e.mix;for(o in r)i=r[o],i["super"]=t.prototype[o],t.prototype[o]=i;return!0}return!1}}.call(this);