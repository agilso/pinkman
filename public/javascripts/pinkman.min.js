(function(){window.Pinkman=function(){function t(){}return t.collections=[],t.objects=[],t.all=[],t}()}).call(this),function(){window.PinkmanCommon=function(){function t(){}return t.prototype.apiUrl=function(){return this.config.apiUrl},t.prototype.className=function(){return this.constructor.name},t.prototype.set=function(t,n,i){if(null==i&&(i=""),null!=t&&null!=n)return this[t]=n,"function"==typeof i&&i(this),this.watch&&this.reRender(),!0},t.prototype.render=function(t){if("object"==typeof t)return t.object=this,Pinkman.render(t)},t.prototype.reRender=function(t){if("object"==typeof t)return t.object=this,Pinkman.reRender(t)},t}()}.call(this),function(){var t=function(t,i){function o(){this.constructor=t}for(var e in i)n.call(i,e)&&(t[e]=i[e]);return o.prototype=i.prototype,t.prototype=new o,t.__super__=i.prototype,t},n={}.hasOwnProperty;window.PinkmanObject=function(n){function i(){this.isPink=!0,this.isObject=!0,this.pinkmanType="object",this.collections=new PinkmanCollection,this.pinkey=Pinkman.all.length+1,Pinkman.objects.push(this),Pinkman.all.push(this)}return t(i,n),i.pinkmanType="object",i.privateAttributes=["isPink","isObject","pinkey","config","pinkmanType","collections"],i.prototype.assign=function(t){var n,i;if("object"==typeof t){for(n in t)i=t[n],"object"!=typeof i||null==this[n]||null==this[n].isPink||i.isPink?this.set(n,i):this[n].assign(i);return!0}return!1},i.prototype.attributes=function(){var t,n,o,e;t=new Object,o=this;for(n in o)e=o[n],-1===i.privateAttributes.indexOf(n)&&"function"!=typeof e&&(e.isPink?t[n]=e.attributes():t[n]=e);return t},i.prototype.attributesKeys=function(){return Object.keys(this.attributes())},i.prototype.keys=function(){return this.attributesKeys()},i.prototype.toString=function(){var t,n,i,o,e;for(n=[],n.push("("+this.className()+")"),e=this.attributesKeys(),i=0,o=e.length;i<o;i++)t=e[i],n.push(t+": "+this[t]+";");return n.join(" ")},i.prototype.next=function(t){var n;if(null==t&&(t=""),t.isPink&&"collection"===t.pinkmanType)return t.next(this);if(Pinkman.isNumber(t)){if(null!=(n=this.collections.get(t)))return n.next(this)}else if((null==t||""===t)&&this.collections.any())return this.collections.first().next(this)},i.prototype.prev=function(t){var n;if(null==t&&(t=""),t.isPink&&"collection"===t.pinkmanType)return t.prev(this);if(Pinkman.isNumber(t)){if(null!=(n=this.collections.get(t)))return n.prev(this)}else if((null==t||""===t)&&this.collections.any())return this.collections.first().prev(this)},i.prototype.clearCollections=function(){var t,n,i,o,e;for(o=this.collections.collection,e=[],n=0,i=o.length;n<i;n++)t=o[n],e.push(t.remove(this));return e},i.prototype.firstError=function(){var t;if(null!=this.errors)return(t=Object.keys(this.errors)[0])+" "+this.errors[t][0]},i}(window.PinkmanCommon)}.call(this),function(){var t=function(t,n){return function(){return t.apply(n,arguments)}},n=function(t,n){function o(){this.constructor=t}for(var e in n)i.call(n,e)&&(t[e]=n[e]);return o.prototype=n.prototype,t.prototype=new o,t.__super__=n.prototype,t},i={}.hasOwnProperty;window.PinkmanCollection=function(i){function o(){this["new"]=t(this["new"],this),this.isPink=!0,this.isCollection=!0,this.pinkmanType="collection",this.collection=[],this.pinkey=Pinkman.all.length+1,Pinkman.collections.push(this),Pinkman.all.push(this)}return n(o,i),o.pinkmanType="collection",o.privateAttributes=["isPink","isCollection","pinkey","config","pinkmanType"],o.prototype.attributes=function(){return this.collection},o.prototype.count=function(t){var n,i,o,e,r;if(null==t&&(t=""),null!=t&&"function"==typeof t){for(n=0,r=this.collection,i=0,o=r.length;i<o;i++)e=r[i],t(e)&&n++;return n}return this.collection.length},o.prototype.size=function(t){return null==t&&(t=""),this.count(t)},o.prototype.length=function(t){return null==t&&(t=""),this.count(t)},o.prototype.each=function(t){var n,i,o,e;if(null==t&&(t=""),null!=t&&"function"==typeof t)for(e=this.collection,n=0,i=e.length;n<i;n++)o=e[n],t(o);return this},o.prototype.select=function(t){var n;return n=new this.constructor,this.each(function(i){if(t(i))return n.push(i)}),select},o.prototype.push=function(t){if("object"==typeof t&&t.isPink&&!this.include(t)&&(this.collection.push(t),t.isObject&&null!=t.collections&&!t.collections.include(this)))return t.collections.push(this)},o.prototype.unshift=function(t){if("object"==typeof t&&t.isPink&&!this.include(t)&&(this.collection.unshift(t),t.isObject&&null!=t.collections&&!t.collections.include(this)))return t.collections.unshift(this)},o.prototype.pop=function(){return this.remove(this.last())},o.prototype.shift=function(){return this.remove(this.first())},o.prototype.remove=function(t){var n;if(null!=t)return n=this.collection.indexOf(t),this.collection.splice(n,1),t},o.prototype.removeBy=function(t,n){if(null!=t&&null!=n)return this.remove(this.getBy(t,n))},o.prototype.removeAll=function(){var t,n,i,o;for(o=this.collection,t=0,n=o.length;t<n;t++)i=o[t],this.remove(i);return!0},o.prototype.include=function(t){return-1!==this.collection.indexOf(t)},o.prototype.first=function(t){return null==t&&(t=1),1===t?this.collection[0]:this.collection.slice(0,+(t-1)+1||9e9)},o.prototype.firstTwo=function(){if(null!=this.first&&"function"==typeof this.first)return this.first(2)},o.prototype.firstThree=function(){if(null!=this.first&&"function"==typeof this.first)return this.first(3)},o.prototype.firstFour=function(){if(null!=this.first&&"function"==typeof this.first)return this.first(4)},o.prototype.firstFive=function(){if(null!=this.first&&"function"==typeof this.first)return this.first(5)},o.prototype.firstSix=function(){if(null!=this.first&&"function"==typeof this.first)return this.first(6)},o.prototype.firstSeven=function(){if(null!=this.first&&"function"==typeof this.first)return this.first(7)},o.prototype.firstEight=function(){if(null!=this.first&&"function"==typeof this.first)return this.first(8)},o.prototype.firstNine=function(){if(null!=this.first&&"function"==typeof this.first)return this.first(9)},o.prototype.firstTen=function(){if(null!=this.first&&"function"==typeof this.first)return this.first(10)},o.prototype.last=function(t){return null==t&&(t=1),1===t?this.collection[this.collection.length-1]:this.collection.slice(this.collection.length-t-1)},o.prototype.any=function(t){return null==t&&(t=""),null!=t&&"function"==typeof t?this.select(t).count()>0:this.count()>0},o.prototype.getBy=function(t,n){var i;if(null!=t&&null!=n)return i=new Object,i[t]=n,this.getByAttributes(i)},o.prototype.getByAttributes=function(t){var n,i,o,e,r,s,l;if(null==t||"object"!=typeof t||!this.any())return null;for(s=this.collection,n=0,o=s.length;n<o;n++){r=s[n],e=!0;for(i in t)l=t[i],r[i]!==l&&(e=!1);if(e)return r}},o.prototype.get=function(t){if(null!=t)return this.getBy("pinkey",t)},o.prototype.find=function(t){if(null!=t)return this.getBy("id",t)},o.prototype.next=function(t){var n;return n=this.collection.indexOf(t),this.collection[n+1]},o.prototype.prev=function(t){var n;return n=this.collection.indexOf(t),this.collection[n-1]},o.prototype.logPinkeys=function(){return this.each(function(t){return console.log(t.pinkey)})},o.prototype.uniq=function(t){var n,i,o,e,r,s,l,c;for(null==t&&(t=""),l=this.collection,o=0,r=l.length;o<r;o++)for(n=l[o],c=this.collection,e=0,s=c.length;e<s;e++)i=c[e],n.pinkey!==i.pinkey&&n.id!==i.id||n===i||this.remove(n);return null!=t&&"function"==typeof t&&t(this),this},o.prototype.fetchFromArray=function(t){var n,i,o,e;for(i=0,o=t.length;i<o;i++)n=t[i],e=this["new"](),e.assign(n),null!=this.find(e.id)?this.find(e.id).assign(e.attributes()):this.push(e);return this},o.prototype.merge=function(t){return this.fetchFromArray(t.collection)},o.prototype["new"]=function(){var t;return t=new this.config.memberClass,t.set("owner",this),t},o.prototype.reload=function(t){if(null==t&&(t=""),this.any()&&(this.each(function(t){if(null!=t.id)return t.reload()}),"function"==typeof t))return t(this)},o.prototype.makeIndex=function(){var t,n,i,o,e;if(this.any()){for(t=1,e=this.collection,n=0,i=e.length;n<i;n++)o=e[n],o.set("index",t),t++;return!0}return!1},o.prototype.shuffle=function(){var t,n,i,o;if(null!=this.any){for(t=this.collection.length,i=[];0!==t;)n=Math.floor(Math.random()*t),t-=1,o=this.collection[t],this.collection[t]=this.collection[n],i.push(this.collection[n]=o);return i}},o.prototype.filter=function(t,n,i){var o,e,r,s,l;if(null!=t&&null!=n&&""!==n&&"string"==typeof t){if(this.any())for(o=new this.constructor,l=this.collection,e=0,r=l.length;e<r;e++)s=l[e],s[t]===n?o.push(s):null!=s[t]&&"string"==typeof s[t]&&""!==s[t]&&"string"==typeof n&&""!==n&&s[field].toLowerCase().indexOf(n.toLowerCase())>-1&&o.push(s);return null!=i&&"function"==typeof i&&i(o),o}return!1},o}(window.PinkmanCommon)}.call(this);