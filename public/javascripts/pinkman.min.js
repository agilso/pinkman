(function(){window.PinkmanObject=function(){function t(){this.isPink=!0,this.isObject=!0,this.pinkey=Pinkman.all.length+1,Pinkman.objects.push(this),Pinkman.all.push(this)}return t.pinkmanType="object",t.privateAttributes=["isPink","isObject","pinkey","config"],t.prototype.apiUrl=function(){return this.config.apiUrl},t.prototype.assign=function(t){var n,e;if("object"==typeof t){for(n in t)e=t[n],"object"!=typeof e||null==this[n]||null==this[n].isPink||e.isPink?this.set(n,e):this[n].assign(e);return!0}return!1},t.prototype.attributes=function(){var n,e,i;n=new Object;for(e in this)i=this[e],t.privateAttributes.indexOf(e)===-1&&"function"!=typeof i&&(i.isPink&&i.isObject?n[e]=i.attributes():n[e]=i);return n},t.prototype.set=function(t,n,e){return null==e&&(e=""),null!=t&&null!=n&&(this[t]=n,"function"==typeof e&&e(this),!0)},t.prototype.className=function(){return this.constructor.name},t}()}).call(this),function(){var t=function(t,n){return function(){return t.apply(n,arguments)}};window.PinkmanCollection=function(){function n(){this["new"]=t(this["new"],this),this.clearCycle=t(this.clearCycle,this),this.cycle=t(this.cycle,this),this.firstTen=t(this.firstTen,this),this.firstNine=t(this.firstNine,this),this.firstEight=t(this.firstEight,this),this.firstSeven=t(this.firstSeven,this),this.firstSix=t(this.firstSix,this),this.firstFive=t(this.firstFive,this),this.firstFour=t(this.firstFour,this),this.firstThree=t(this.firstThree,this),this.firstTwo=t(this.firstTwo,this),this.each=t(this.each,this),this.pinkmanType="collection",this.type="main",this.collection=[],this.pinkey=PinkmanGlue.count(),PinkmanGlue.increaseCount(),PinkmanGlue.all.push(this),this.collectionId=n.getCount(),n.increaseCount(),PinkmanGlue.collections.push(this)}return n.prototype.attributes=function(){return this.collection},n.prototype.each=function(t){var n,e,i,o,r;if(null==t&&(t=""),null!=t&&"function"==typeof t){for(o=this.collection,r=[],n=0,e=o.length;n<e;n++)i=o[n],r.push(t(i));return r}return this},n.renderArray=function(t,n,e,i){var o;return null==i&&(i=""),o=new this,o.collection=t,$("#"+e).html(Pinkman.render({template:n,object:o})),"function"==typeof i&&i(o),!0},n._collectionsCount=0,n.getCount=function(){return this._collectionsCount},n.increaseCount=function(){return this._collectionsCount++},n.prototype.set=function(t,n,e){return null==e&&(e=""),null!=t&&null!=n&&(this[t]=n,"function"==typeof e&&e(this),!0)},n.prototype.pushToRenderQueue=function(t){var n,e,i,o,r,l,u,c;for(null==this.renderQueue&&(this.renderQueue=[]),t.reRendering=!1,n=!1,l=this.renderQueue,e=0,o=l.length;e<o;e++){r=l[e],c=!0;for(i in r)u=r[i],"function"==typeof r[i]&&"function"==typeof t[i]?r[i].toString().replace(/\s/g,"")!==t[i].toString().replace(/\s/g,"")&&(c=!1):r[i]!==t[i]&&(c=!1);c&&(n=!0)}if(!n)return this.renderQueue.push(t)},n.prototype.clearRenderQueue=function(){return this.renderQueue=[]},n.prototype.apiUrl=function(){return this.config.apiUrl},n.prototype.removeAll=function(){return this.collection=[]},n.prototype.getByAttributes=function(t){var n,e,i,o,r,l,u;if(!this.any())return null;for(l=this.collection,n=0,i=l.length;n<i;n++){r=l[n],o=!0;for(e in t)u=t[e],r[e]!==u&&(o=!1);if(o)return r}},n.prototype.getBy=function(t,n){var e,i,o,r;if(!this.any())return null;for(r=this.collection,e=0,i=r.length;e<i;e++)if(o=r[e],o[t]===n)return o},n.prototype.get=function(t){return this.getBy("id",t)},n.prototype.next=function(t){var n;return n=this.collection.indexOf(t),this.collection[n+1]},n.prototype.prev=function(t){var n;return n=this.collection.indexOf(t),this.collection[n-1]},n.prototype.removeBy=function(t,n){var e,i;return i=this.getBy(t,n),e=this.collection.indexOf(i),i.removeCollection(this.collectionId),this.collection.splice(e,1)},n.prototype.remove=function(t){var n;return t.removeCollection(this.collectionId),n=this.collection.indexOf(t),this.collection.splice(n,1)},n.prototype.logKeys=function(){var t,n,e,i,o;for(i=this.collection,o=[],t=0,n=i.length;t<n;t++)e=i[t],o.push(console.log(e.pinkey));return o},n.prototype.push=function(t){if("object"==typeof t)return this.collection.push(t),t.addCollection(this.collectionId)},n.prototype.unshift=function(t){if("object"==typeof t)return this.collection.unshift(t),t.addCollection(this.collectionId)},n.prototype.any=function(t){var n,e,i,o,r;if(null==t&&(t=""),null!=this.collection&&this.collection.length>=1){if("function"==typeof t){for(r=!1,o=this.collection,n=0,e=o.length;n<e;n++)i=o[n],t(i)&&(r=!0);return r}return!0}return!1},n.prototype.include=function(t){var n,e,i,o,r,l,u;if(this.any()){for(u=!1,r=this.collection,n=0,i=r.length;n<i;n++){o=r[n],l=!0;for(e in o)o[e]!==t[e]&&(l=!1);l&&(u=!0)}return u}return!1},n.prototype.uniq=function(t){var n,e,i,o,r,l,u,c;for(null==t&&(t=""),this.duplicatedRemoved=0,c=this.collection,i=0,r=c.length;i<r;i++)for(u=c[i],n=this.select(function(t){return function(n){if(null!=n&&null!=u&&null!=n.id&&null!=u.id)return n.id===u.id&&t.collection.indexOf(n)!==t.collection.indexOf(u)}}(this)),o=0,l=n.length;o<l;o++)e=n[o],this.remove(e),this.duplicatedRemoved=this.duplicatedRemoved+1;if("function"==typeof t)return t(this)},n.prototype.merge=function(t){return this.fetchFromArray(t.collection)},n.prototype.select=function(t){var n,e,i,o,r,l;if(null==t&&(t=""),l=[],"function"==typeof t)for(r=this.collection,e=0,i=r.length;e<i;e++)o=r[e],t(o)&&l.push(o);return n=new this.constructor,n.fetchFromArray(l),n},n.prototype.save=function(){var t,n,e,i,o;if(this.any()){for(i=this.collection,o=[],t=0,n=i.length;t<n;t++)e=i[t],o.push(e.save());return o}},n.prototype.first=function(t){return null==t&&(t=1),1===t?this.collection[0]:this.collection.slice(0,+(t-1)+1||9e9)},n.prototype.firstTwo=function(){if(null!=this.first&&"function"==typeof this.first)return this.first(2)},n.prototype.firstThree=function(){if(null!=this.first&&"function"==typeof this.first)return this.first(3)},n.prototype.firstFour=function(){if(null!=this.first&&"function"==typeof this.first)return this.first(4)},n.prototype.firstFive=function(){if(null!=this.first&&"function"==typeof this.first)return this.first(5)},n.prototype.firstSix=function(){if(null!=this.first&&"function"==typeof this.first)return this.first(6)},n.prototype.firstSeven=function(){if(null!=this.first&&"function"==typeof this.first)return this.first(7)},n.prototype.firstEight=function(){if(null!=this.first&&"function"==typeof this.first)return this.first(8)},n.prototype.firstNine=function(){if(null!=this.first&&"function"==typeof this.first)return this.first(9)},n.prototype.firstTen=function(){if(null!=this.first&&"function"==typeof this.first)return this.first(10)},n.prototype.last=function(t){return null==t&&(t=1),1===t?this.collection[this.collection.length-1]:this.collection.slice(this.collection.length-t-1)},n.prototype.render=function(t){var n,e,i,o;if(e={template:null,target:null,clearDuplicated:!0,reRender:!0,reRendering:!1,callback:"",beforeRender:"",order:"",index:!1,history:null},"object"==typeof t)for(i in e)o=e[i],null==t[i]&&(t[i]=e[i]);else t=e;return null!=t.template&&null!=t.target&&("function"==typeof t.beforeRender&&t.beforeRender(this),t.clearDuplicated&&this.uniq(),n=Pinkman.render({template:t.template,object:this}),t.index&&null!=this.makeIndex&&"function"==typeof this.makeIndex&&this.makeIndex(),"undefined"==typeof window||null===window||"undefined"==typeof history||null===history||null==t.history||t.reRendering||(null==Pinkman.pathname&&(Pinkman.pathname=window.location.pathname,"/"!==Pinkman.pathname.charAt([Pinkman.pathname.length]-1)&&(Pinkman.pathname=Pinkman.pathname+"/")),t.reRender=!0,history.pushState({pinkey:this.pinkey},"",Pinkman.pathname+t.history),Pinkman.popstate()),t.reRender&&this.pushToRenderQueue(t),this.count()>1&&null!=t.order&&"object"==typeof t.order&&this.sortBy(t.order.by,t.order.direction),$("#"+t.target).html(n),$("#"+t.target+" select").each(function(t,n){var e;return e=Pinkman.get($(n).data("pinkey")),$(n).find("option[value='"+e[$(n).attr("name")]+"']").attr("selected","selected")}),"function"==typeof t.callback&&t.callback(this)),!0},n.prototype.reRender=function(t){var n,e,i,o;if(null==t&&(t=""),this.renderQueue&&this.renderQueue.length>=1){for(this.clearCycle(),o=this.renderQueue,n=0,e=o.length;n<e;n++)i=o[n],i.reRendering=!0,this.render(i);if("function"==typeof t)return t(this)}},n.prototype.sortBy=function(t,n){var e;return null==n&&(n="asc"),e=this.collection.sort(function(n,e){return"string"==typeof n[t]&&"string"==typeof e[t]?n[t].toLowerCase()>=e[t].toLowerCase()?1:-1:n[t]>=e[t]?1:-1}),this.collection="asc"===n.toLowerCase()?e:e.reverse()},n.prototype.search=function(t,n){return null==n&&(n=""),this.type="search",this.query=t,this.searchCallback=n,this.removeAll(),Pinkman.ajax.get({url:"/"+this.apiUrl()+("/search?query="+t),complete:function(t){return function(e){var i,o,r,l;for(i=0,o=e.length;i<o;i++)l=e[i],r=t.config.memberClass(),r.assign(l),t.push(r);if("function"==typeof n)return t.searchCallback(t)}}(this)})},n.prototype.fetchFromArray=function(t){var n,e,i,o,r;for(r=[],n=0,e=t.length;n<e;n++)i=t[n],o=this.config.memberClass(),o.assign(i),this.include(o)||null!=this.getBy("id",o.id)?null!=this.getBy("id",o.id)?r.push(this.getBy("id",o.id).assign(o.attributes())):r.push(void 0):r.push(this.push(o));return r},n.prototype.assign=function(t){return this.fetchFromArray(t)},n.prototype.fetchFromUrl=function(t,n){var e;return null==n&&(n=""),e=jQuery.ajax("/"+t,{type:"GET",dataType:"json"}),e.done(function(t){return function(e){return null!=e.errors?(t.errors=e.errors,!1):(t.fetchFromArray(e),t.emptyResponse=0===e.length,"function"==typeof n&&n(t),t)}}(this))},n.prototype.fetch=function(t){return null==t&&(t=""),"function"==typeof t?this.fetchFromUrl(this.apiUrl(),function(n){return t(n)}):this.fetchFromUrl(this.apiUrl())},n.prototype.fetchFrom=function(t,n,e){return null==e&&(e=""),null!=n&&("function"==typeof e?this.fetchFromUrl(this.apiUrl()+"/"+t+"/"+n,function(t){return e(t)}):this.fetchFromUrl(this.apiUrl()+"/"+t+"/"+n))},n.prototype.fetchMore=function(t,n){switch(null==t&&(t=10),null==n&&(n=""),this.type){case"main":return this.fetchFromUrl(this.apiUrl()+("?limit="+t+"&offset="+this.count()),n);case"archive":return this.fetchFromUrl(this.apiUrl()+("/archive?limit="+t+"&offset="+this.count()),n);case"search":return this.fetchFromUrl(this.apiUrl()+("/search?query="+this.query+"&limit="+t+"&offset="+this.count()),n);default:return console.log("I don't know where to fetch from")}},n.prototype.fetchMoreFrom=function(t,n,e,i){var o;return null==i&&(i=""),o=this.apiUrl()+"/"+n+("/"+e+"?offset="+this.count()+"&limit="+t),this.fetchFromUrl(o,i)},n.prototype.reload=function(t){var n,e,i,o;if(null==t&&(t=""),this.any()){for(o=this.collection,n=0,e=o.length;n<e;n++)i=o[n],i.reload(function(){if(null==i.id)return this.remove(i)});if("function"==typeof t)return t(this)}},n.prototype.count=function(t){var n,e,i,o,r;if(this.any()){if("function"==typeof t){for(n=0,r=this.collection,e=0,i=r.length;e<i;e++)o=r[e],t(o)&&n++;return n}return this.collection.length}return 0},n.prototype.cycle=function(t,n){var e;return null==t&&(t="odd"),null==n&&(n="even"),null==this.cycleIndex&&(this.cycleIndex=0),e=this.cycleIndex%2===0?t:n,this.cycleIndex++,e},n.prototype.clearCycle=function(){return this.cycleIndex=0},n.prototype.makeIndex=function(){var t,n,e,i,o;if(this.any()){for(t=1,o=this.collection,n=0,e=o.length;n<e;n++)i=o[n],i.set("index",t),t++;return!0}return!1},n.prototype["new"]=function(){var t;return t=new this.config.memberClass,t.set("owner",this),t},n.prototype.pinkfy=function(t,n,e){var i,o,r,l,u,c;if(null==e&&(e=""),"collection"===n.pinkmanType&&this[t]instanceof Array){for(i=new n,c=this[t],o=0,r=c.length;o<r;o++)l=c[o],u=i.config.memberClass(),u.assign(l),i.push(u);return this[t]=i,"function"==typeof e&&e(i),this}return"object"===n.pinkmanType&&"object"==typeof this[t]&&(u=new n,this[t]instanceof Array&&this[t].length?u.assign(this[t][0]):u.assign(this[t]),this[t]=u,"function"==typeof e&&e(u),this)},n.prototype.ten=function(){return this.count()<=10?this.collection.slice(0):this.collection.slice(0,10)},n.prototype.refine=function(t,n){var e,i,o,r;if(this.any()){if(e=this.collection,this.collection=[],this.clearCycle(),null!=t&&null!=n&&"string"==typeof t)for(i=0,o=e.length;i<o;i++)r=e[i],null!=r[t]&&r[t].toLowerCase().indexOf(n.toLowerCase())>-1&&this.push(r);return!0}return!1},n.prototype.dynamicRefine=function(t,n){return"function"==typeof n&&this.refine(n(t),t)},n.prototype.arrayFilter=function(t,n){var e,i,o,r,l;if(null!=t&&null!=n&&""!==n&&"string"==typeof t){if(this.any())for(e=[],this.clearCycle(),l=this.collection,i=0,o=l.length;i<o;i++)r=l[i],r[t]===n?e.push(r):null!=r[t]&&"string"==typeof r[t]&&""!==r[t]&&"string"==typeof n&&""!==n&&r[t].toLowerCase().indexOf(n.toLowerCase())>-1&&e.push(r);return e}return!1},n.prototype.filter=function(t,n,e){var i,o,r,l,u;if(null!=t&&null!=n&&""!==n&&"string"==typeof t){if(this.any())for(i=new this.__proto__.constructor,this.clearCycle(),u=this.collection,o=0,r=u.length;o<r;o++)l=u[o],l[t]===n?i.push(l):null!=l[t]&&"string"==typeof l[t]&&""!==l[t]&&"string"==typeof n&&""!==n&&l[t].toLowerCase().indexOf(n.toLowerCase())>-1&&i.push(l);return null!=e&&"function"==typeof e&&e(i),i}return!1},n.prototype.dynamicFilter=function(t,n){return"function"==typeof n&&this.filter(n(t),t)},n.prototype.shuffle=function(){var t,n,e,i;if(null!=this.any){for(t=this.collection.length,e=[];0!==t;)n=Math.floor(Math.random()*t),t-=1,i=this.collection[t],this.collection[t]=this.collection[n],e.push(this.collection[n]=i);return e}},n.prototype.isPink=!0,n}()}.call(this),function(){window.PinkmanGlue=function(){function t(){}return t._allCount=0,t.increaseCount=function(){return this._allCount++},t.count=function(){return this._allCount},t.collections=[],t.objects=[],t.all=[],t.get=function(t){return this.all[t]},t}()}.call(this),function(){var t=[].slice;window.Pinkman=function(){function n(){}var e;return n.collections=[],n.objects=[],n.all=[],n.get=function(t){return this.all[t]},n.helper={createSelector:function(t){var n,e,i,o;if("string"==typeof t)o="#"+t;else if(t instanceof Array){for(o=[],e=0,i=t.length;e<i;e++)n=t[e],o.push("#"+n);o.join(", ")}return o}},n.activeViews=new window.PinkmanCollection,n.isViewActive=function(t){var e;return e=n.helper.createSelector(t),null!=n.activeViews.getBy("selector",e)},e=function(t,n,e){return null==e&&(e="do_after_timer"),window[e]=window.setTimeout(function(){if("function"==typeof n)return n()},100*t)},n.render=function(t){var n,e,i;return!(null==t.template||!$("#"+t.template).length)&&(null==t.object&&(t.object=new Object),e="undefined"!=typeof html&&null!==html?html:$("#"+t.template).html(),i=Hogan.compile(e,{delimiters:"<< >>"}),n=i.render(t.object),null!=t.target&&$("#"+t.target).html(n),null!=t.callback&&"function"==typeof t.callback&&t.callback(n),n)},n.defineVar=function(t,n){return null!=n?window[t]=n:window[t]="",!0},n.getView=function(t){var e;return e=new PinkmanCollection,n.activeViews.each(function(n){if(n.id===t)return e.push(n)}),e.call=function(t){if(null!=t&&"object"==typeof t&&null!=t.action&&null!=t.args)return this.each(function(n){return n.actions.each(function(n){if(n.action===t.action)return n.callback.apply(n,t.args)})})},e},n.view=function(i,o){return null!=o?$(document).ready(function(){var r,l,u,c;if(u=n.helper.createSelector(i),$(u).length&&(c=new PinkmanObject,c.set("id",i),c.actions=new PinkmanCollection,c.set("selector",u),l=new Object,c.set("view",l),null==window.Pinkman.activeViews.getBy("selector",c.selector)&&window.Pinkman.activeViews.push(c),l.executeAction=function(t,n,e){return $("body").on(n,"#"+i+" [data-action='"+t+"']",function(t){var i,o;return"keypress"!==n&&t.preventDefault(),$(this).is("[data-pinkey]")&&(o=$(this).data("pinkey")),i=PinkmanGlue.all[o],e(i,$(this),t)})},l.action=function(t,n,e){var i,o,r,l,u;if(i=new PinkmanObject,i.assign({action:t,eventName:n,callback:e}),c.actions.push(i),"string"==typeof n)return this.executeAction(t,n,e);if(n instanceof Array){for(u=[],r=0,l=n.length;r<l;r++)o=n[r],u.push(this.executeAction(t,o,e));return u}},l.trigger=function(){var n,e,i,o;if(e=arguments[0],i=arguments[1],o=3<=arguments.length?t.call(arguments,2):[],n=c.actions.getByAttributes({action:e,eventName:i}),null!=n)return n.callback.apply(n,o)},l.endOfPage=function(t){return setTimeout(function(){return window.lastEndOfPage=0,$(window).scroll(function(){var n;if(n=Date.now(),($(document).height()-$(window).scrollTop()-document.body.offsetHeight<800&&window.lastEndOfPage<n||$(document).height()-$(window).scrollTop()-document.body.offsetHeight===0)&&!window.endOfPageRunning)return window.endOfPageRunning=!0,window.lastEndOfPage=n,t()})},200)},l.finishEndOfPage=function(){return window.endOfPageRunning=!1},r=function(t,n,e){return null==e&&(e=0),"object"!=typeof t&&(t=new Object),e<n.length?(t[n[e]]=r(t[n[e]],n,e+1),t):new Object},l.bindAll=function(){return n.callOnce(function(){var t,n,e,i,o;for(t=[],$(u).find("[name]").each(function(n,e){if(t.indexOf($(e).attr("name"))===-1)return t.push($(e).attr("name"))}),o=[],n=0,e=t.length;n<e;n++)i=t[n],o.push(l.bind(i));return o})},l.bind=function(){var e,i,o;return e=1<=arguments.length?t.call(arguments,0):[],"function"==typeof e[e.length-1]&&(i=e.pop()),o=e.pop(),this.action(o,["keyup","change"],function(t,l){var u,c,s,f;for(n.callOnce(function(){return t.assign(r(t,e))}),c=t,s=0,f=e.length;s<f;s++)u=e[s],c=c[u];if(c[o]!==l.val()&&(c.isPink?c.set(o,l.val()):c[o]=l.val(),null!=i&&"function"==typeof i))return i(t,l)})},l.drop=function(t,n){return l.action(t,"click",function(t,e,i){if(null!=n.click&&"function"==typeof n.click)return n.click(t,e,i)}),l.action(t,"dragenter",function(t,e,i){if(null!=n.enter&&"function"==typeof n.enter)return n.enter(t,e,i)}),l.action(t,"dragover",function(t,e,i){if(null!=n.over&&"function"==typeof n.over)return n.over(t,e,i)}),l.action(t,"dragleave",function(t,e,i){return n.leave(t,e,null!=n.leave&&"function"==typeof n.leave?i:void 0)}),l.action(t,"drop",function(t,e,i){if(null!=n.drop&&"function"==typeof n.drop&&n.drop(t,e,i),null!=n.files&&"function"==typeof n.files)return n.files(t,i.originalEvent.dataTransfer.files)})},l.autocomplete=function(t){if(window.options=t,null!=t&&"object"==typeof t)return null==t.filter&&(t.filter="search"),null==t.display&&(t.display="name"),this.action("autocomplete-for-"+t.attribute,"click",function(n,e){var i,o,r;if(null!=t.callback&&"function"==typeof t.callback&&(t.callback(n.autocomplete.origin,n,e),i=$("[data-pinkey='"+n.autocomplete.origin.pinkey+"'][name]"),r=i.closest("[name='"+t.attribute+"']"),o=i[i.index(r)+1],null!=o))return o.focus()}),this.bind(t.attribute,function(){return function(n,i){return NProgress.start(),clearTimeout(window.pinkmanAutocompleteBinding),e(8,function(){var e,o,r;return o=n[t.attribute],i.parent().find(".autocomplete").show(),null!=o&&""!==o?(r=function(e){return e.makeIndex(),e.each(function(e){return e.set("autocomplete",{origin:n,attribute:t.attribute}),"function"==typeof t.display?e.set("display",t.display(e)):e.set("display",e[t.display])}),e.render({template:"autocomplete-template",target:"autocomplete-"+t.attribute+"-"+n.pinkey}),NProgress.done()},null!=t.filter&&"function"==typeof t.filter?t.filter(t["with"],o,function(t){return r(t)}):(e=t["with"],e[t.filter](o,function(t){return r(t)}))):(i.parent().find(".autocomplete").hide(),NProgress.done())},"pinkmanAutocompleteBinding")}}(this))},o(l),null!=l.main&&"function"==typeof l.main))return l.main()}):this.getView(i)},n.uniqView=function(t,e){if(!n.isViewActive(t))return this.view(t,e)},n.popstate=function(){if("undefined"!=typeof window&&null!==window&&"undefined"!=typeof history&&null!==history&&null!=history.pushState&&!this.popstateActivated)return this.popstateActivated=!0,window.onpopstate=function(t){return n.get(t.state.pinkey).reRender()}},n.callOnce=function(){var n,e,i;if(e=arguments[0],n=2<=arguments.length?t.call(arguments,1):[],"function"==typeof e&&(i=e.toString(),this.calledFunctions.indexOf(i)===-1))return this.calledFunctions.push(i),e(n)},n.calledFunctions=[],n.ajax={get:function(t){var n;return null!=t.url&&(n=jQuery.ajax(t.url,{type:"GET",dataType:"json"}),n.done(function(){return function(n){return null!=n.errors?(null!=t.error&&"function"==typeof t.error&&t.error(n),!1):(null!=t.success&&"function"==typeof t.success&&t.success(n),null!=t.complete&&"function"==typeof t.complete?t.complete(n):void 0)}}(this)),this)},post:function(t){var n;return null!=t.url&&(n=jQuery.ajax(t.url,{beforeSend:function(t){return t.setRequestHeader("X-CSRF-Token",$('meta[name="csrf-token"]').attr("content"))},type:"POST",dataType:"json",data:t.data}),n.done(function(n){return function(e){return null!=e.errors?(null!=t.error&&"function"==typeof t.error&&t.error(n),!1):(null!=t.success&&"function"==typeof t.success&&t.success(e),null!=t.complete&&"function"==typeof t.complete?t.complete(e):void 0)}}(this)),this)},put:function(t){var n;return null!=t.url&&(n=jQuery.ajax(t.url,{beforeSend:function(t){return t.setRequestHeader("X-CSRF-Token",$('meta[name="csrf-token"]').attr("content"))},type:"PUT",dataType:"json",data:t.data}),n.done(function(n){return function(e){return null!=e.errors?(null!=t.error&&"function"==typeof t.error&&t.error(n),!1):(null!=t.success&&"function"==typeof t.success&&t.success(e),null!=t.complete&&"function"==typeof t.complete?t.complete(e):void 0)}}(this)),this)},file:function(t){var n;return null!=t.url&&(n=jQuery.ajax(t.url,{beforeSend:function(t){return t.setRequestHeader("X-CSRF-Token",$('meta[name="csrf-token"]').attr("content"))},xhr:function(){var n;return n=$.ajaxSettings.xhr(),n.upload.addEventListener("progress",function(n){if(n.lengthComputable&&null!=t.progress)return t.progress(n.loaded/n.total)},!1),n.addEventListener("progress",function(n){if(n.lengthComputable&&null!=t.progress)return t.progress(n.loaded/n.total)},!1),n},type:"POST",dataType:"json",data:t.data,processData:!1,contentType:!1}),n.done(function(n){return function(e){return null!=e&&null!=e.errors?(null!=t.error&&"function"==typeof t.error&&t.error(n),!1):(null!=t.success&&"function"==typeof t.success&&t.success(e),null!=t.complete&&"function"==typeof t.complete?t.complete(e):void 0)}}(this)),this)},upload:function(){var n;return n=1<=arguments.length?t.call(arguments,0):[],this.file.apply(this,n)}},n}(),$(document).ready(function(){if(null==Pinkman.pathname&&(Pinkman.pathname=window.location.pathname,"/"!==Pinkman.pathname.charAt([Pinkman.pathname.length]-1)))return Pinkman.pathname=Pinkman.pathname+"/"})}.call(this);