(function(){var t=[].slice;window.Pinkman=function(){function n(){}return n.collections=[],n.objects=[],n.all=[],n.get=function(t){return this.all[t]},n.isNumber=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},n.isArray=function(t){return null!=t&&t.constructor===Array},n.isString=function(t){return null!=t&&"string"==typeof t},n.doAfter=function(t,n,i){return null==i&&(i="_pinkman_doAfter"),window[i]=window.setTimeout(function(){if("function"==typeof n)return n()},100*t)},n.clearTimeout=function(t){return null==t&&(t="_pinkman_doAfter"),window.clearTimeout(window[t])},n.defineGlobalVar=function(t,n){return window[t]=n},n.onlyOnce=function(){var n,i,e;if(i=arguments[0],n=2<=arguments.length?t.call(arguments,1):[],"function"==typeof i&&(e=new Object,e.f=i.toString(),e.args=n,-1===this.calledFunctions.indexOf(e)))return this.calledFunctions.push(e),i.apply(null,n)},n.calledFunctions=[],n}()}).call(this),function(){var t=[].slice;window.PinkmanCommon=function(){function n(){}return n.privateAttributes=["isPink","isObject","isCollection","pinkey","config","pinkmanType","collections"],n.mixin=function(){var n;return n=1<=arguments.length?t.call(arguments,0):[],Pinkman.mixin.apply(Pinkman,n)},n.mixit=function(){var n;return n=1<=arguments.length?t.call(arguments,0):[],Pinkman.mixit.apply(Pinkman,[this].concat(t.call(n)))},n.isInstance=function(t){return t.constructor===this},n.prototype.api=function(){if(null!=this.config&&null!=this.config.api)return"/"===this.config.api.charAt(0)?this.config.api+"/":"/"+this.config.api+"/"},n.prototype.isInstanceOf=function(t){return this.constructor===t},n.prototype.className=function(){return this.constructor.name},n.prototype.set=function(t,n,i){if(null==i&&(i=""),null!=t&&null!=n)return this[t]=n,"function"==typeof i&&i(this),this.watch&&this.reRender(),!0},n.prototype.render=function(t){if("object"==typeof t)return t.object=this,Pinkman.render(t)},n.prototype.reRender=function(t){if("object"==typeof t)return t.object=this,Pinkman.reRender(t)},n}()}.call(this),function(){var t=function(t,i){function e(){this.constructor=t}for(var o in i)n.call(i,o)&&(t[o]=i[o]);return e.prototype=i.prototype,t.prototype=new e,t.__super__=i.prototype,t},n={}.hasOwnProperty;window.PinkmanObject=function(n){function i(t){this.isPink=!0,this.isObject=!0,this.pinkmanType="object",this.collections=new PinkmanCollection,this.pinkey=Pinkman.all.length,Pinkman.objects.push(this),Pinkman.all.push(this),this.initialize(t)}return t(i,n),i.pinkmanType="object",i.prototype.initialize=function(t){var n,e,o;if("object"==typeof t){e=[];for(n in t)o=t[n],-1===i.privateAttributes.indexOf(n)?e.push(this.set(n,o)):e.push(void 0);return e}},i.prototype.assign=function(t){var n,i;if("object"==typeof t){for(n in t)i=t[n],"object"!=typeof i||null==this[n]||null==this[n].isPink||i.isPink?this.set(n,i):this[n].assign(i);return!0}return!1},i.prototype.attributes=function(){var t,n,e,o;t=new Object,e=this;for(n in e)o=e[n],-1===i.privateAttributes.indexOf(n)&&"function"!=typeof o&&(o.isPink?t[n]=o.attributes():t[n]=o);return t},i.prototype.attributesKeys=function(){return Object.keys(this.attributes())},i.prototype.keys=function(){return this.attributesKeys()},i.prototype.toString=function(){var t,n,i,e,o;for(n=[],n.push("("+this.className()+")"),o=this.attributesKeys(),i=0,e=o.length;i<e;i++)t=o[i],n.push(t+": "+this[t]+";");return n.join(" ")},i.prototype.next=function(t){var n;if(null==t&&(t=""),t.isPink&&"collection"===t.pinkmanType)return t.next(this);if(Pinkman.isNumber(t)){if(null!=(n=this.collections.get(t)))return n.next(this)}else if((null==t||""===t)&&this.collections.any())return this.collections.first().next(this)},i.prototype.prev=function(t){var n;if(null==t&&(t=""),t.isPink&&"collection"===t.pinkmanType)return t.prev(this);if(Pinkman.isNumber(t)){if(null!=(n=this.collections.get(t)))return n.prev(this)}else if((null==t||""===t)&&this.collections.any())return this.collections.first().prev(this)},i.prototype.clearCollections=function(){var t,n,i,e,o;for(e=this.collections.collection,o=[],n=0,i=e.length;n<i;n++)t=e[n],o.push(t.remove(this));return o},i.prototype.firstError=function(){var t;if(null!=this.errors)return(t=Object.keys(this.errors)[0])+" "+this.errors[t][0]},i}(window.PinkmanCommon),window.Pinkman.object=window.PinkmanObject}.call(this),function(){var t=function(t,i){function e(){this.constructor=t}for(var o in i)n.call(i,o)&&(t[o]=i[o]);return e.prototype=i.prototype,t.prototype=new e,t.__super__=i.prototype,t},n={}.hasOwnProperty,i=[].slice;window.PinkmanCollection=function(n){function e(){this.isPink=!0,this.isCollection=!0,this.pinkmanType="collection",this.collection=[],this.pinkey=Pinkman.all.length,Pinkman.collections.push(this),Pinkman.all.push(this)}return t(e,n),e.pinkmanType="collection",e.prototype.config={memberClass:PinkmanObject},e.prototype.attributes=function(){return this.collection},e.prototype.count=function(t){var n,i,e,o,r;if(null==t&&(t=""),null!=t&&"function"==typeof t){for(n=0,r=this.collection,i=0,e=r.length;i<e;i++)o=r[i],t(o)&&n++;return n}return this.collection.length},e.prototype.size=function(t){return null==t&&(t=""),this.count(t)},e.prototype.length=function(t){return null==t&&(t=""),this.count(t)},e.prototype.each=function(t){var n,i,e,o;if(null==t&&(t=""),null!=t&&"function"==typeof t)for(o=this.collection,n=0,i=o.length;n<i;n++)e=o[n],t(e);return this},e.prototype.select=function(t,n){var i;return null==n&&(n=""),i=new this.constructor,this.each(function(n){if(t(n))return i.push(n)}),"function"==typeof n&&n(i),i},e.prototype.push=function(t){var n,i,e;if(Pinkman.isArray(t)){for(i=0,e=t.length;i<e;i++)n=t[i],this.pushIndividually(n);return this.include(t)}return this.pushIndividually(t)},e.prototype.unshift=function(t){var n,i,e;if(Pinkman.isArray(t)){for(i=0,e=t.length;i<e;i++)n=t[i],this.unshiftIndividually(n);return this.include(t)}return this.unshiftIndividually(t)},e.prototype.pushIndividually=function(t){return null!=t&&"object"==typeof t&&!this.include(t)&&this.beforeInsertionPrep(t,function(t){return function(n){return t.collection.push(n),n.isObject&&null!=n.collections&&n.collections.push(t),!0}}(this))},e.prototype.unshiftIndividually=function(t){return null!=t&&"object"==typeof t&&!this.include(t)&&this.beforeInsertionPrep(t,function(t){return function(n){return t.collection.unshift(n),n.isObject&&null!=n.collections&&n.collections.push(t),!0}}(this))},e.prototype.beforeInsertionPrep=function(t,n){var i;return null==n&&(n=""),t.isPink||(i=this["new"](),i.assign(t),t=i),"function"==typeof n&&n(t),t},e.prototype.pop=function(){return this.remove(this.last())},e.prototype.shift=function(){return this.remove(this.first())},e.prototype.remove=function(t){var n;if(null!=t)return n=this.collection.indexOf(t),this.collection.splice(n,1),t},e.prototype.removeBy=function(t,n){if(null!=t&&null!=n)return this.remove(this.getBy(t,n))},e.prototype.removeAll=function(){return!this.any()||(this.remove(this.first()),this.removeAll())},e.prototype.include=function(t){var n,i,e,o;if(null!=t&&Pinkman.isArray(t)){for(o=!0,i=0,e=t.length;i<e;i++)n=t[i],this.include(n)||(o=!1);return o}return null!=t&&"object"==typeof t&&(null!=t.id?this.any(function(n){return t.id===n.id}):-1!==this.collection.indexOf(t))},e.prototype.first=function(t){return null==t&&(t=1),1===t?this.collection[0]:this.collection.slice(0,+(t-1)+1||9e9)},e.prototype.last=function(t){return null==t&&(t=1),1===t?this.collection[this.collection.length-1]:this.collection.slice(this.collection.length-t-1)},e.prototype.any=function(t){return null==t&&(t=""),null!=t&&"function"==typeof t?this.select(t).count()>0:this.count()>0},e.prototype.getBy=function(t,n){var i;if(null!=t&&null!=n)return i=new Object,i[t]=n,this.getByAttributes(i)},e.prototype.getByAttributes=function(t){var n,i,e,o,r,l,u;if(null==t||"object"!=typeof t||!this.any())return null;for(l=this.collection,n=0,e=l.length;n<e;n++){r=l[n],o=!0;for(i in t)u=t[i],r[i]!==u&&(o=!1);if(o)return r}},e.prototype.getByPinkey=function(t){return this.getBy("pinkey",t)},e.prototype.get=function(){var t;if(t=1<=arguments.length?i.call(arguments,0):[],t.length>0){if(Pinkman.isNumber(t[0]))return this.getByPinkey(t[0]);if(2===t.length)return this.getBy.apply(this,t);if("object"==typeof t[0])return this.getByAttributes(t[0])}},e.prototype.find=function(t){if(null!=t)return this.getBy("id",t)},e.prototype.next=function(t){var n;return n=this.collection.indexOf(t),this.collection[n+1]},e.prototype.prev=function(t){var n;return n=this.collection.indexOf(t),this.collection[n-1]},e.prototype.logPinkeys=function(){return this.each(function(t){return console.log(t.pinkey)})},e.prototype.uniq=function(t){var n,i,e,o;for(null==t&&(t=""),i=[],this.each(function(t){return function(n){return t.each(function(t){if(null!=n.pinkey&&n.pinkey===t.pinkey&&n!==t&&i.push(t),null!=n.id&&n.id===t.id&&n!==t)return i.push(t)})}}(this)),e=0,o=i.length;e<o;e++)n=i[e],this.remove(n);return this},e.prototype.fetchFromArray=function(t){var n,i,e,o;for(i=0,e=t.length;i<e;i++)n=t[i],o=this.beforeInsertionPrep(n),null!=o&&null!=this.find(o.id)?this.find(o.id).assign(o.attributes()):this.push(o);return this},e.prototype.merge=function(t){return Pinkman.isArray(t)?this.fetchFromArray(t):"object"==typeof t&&t.isPink&&t.isCollection?this.fetchFromArray(t.collection):void 0},e.prototype["new"]=function(t){var n;return n=new this.config.memberClass,n.initialize(t),this.push(n),n},e.prototype.reload=function(t){if(null==t&&(t=""),this.any())return this.each(function(n){return function(i){if(null!=i.id)return i.reload(function(i){if(i.pinkey===n.last().pinkey&&"function"===t)return t(n)})}}(this))},e.prototype.makeIndex=function(){var t,n,i,e,o;if(this.any()){for(t=1,o=this.collection,n=0,i=o.length;n<i;n++)e=o[n],e.set("index",t),t++;return!0}return!1},e.prototype.shuffle=function(){var t,n,i,e;if(null!=this.any){for(t=this.collection.length,i=[];0!==t;)n=Math.floor(Math.random()*t),t-=1,e=this.collection[t],this.collection[t]=this.collection[n],i.push(this.collection[n]=e);return i}},e.prototype.filter=function(t,n,i){var e,o,r,l,u;if(null!=t&&null!=n&&""!==n&&"string"==typeof t){if(this.any())for(e=new this.constructor,u=this.collection,o=0,r=u.length;o<r;o++)l=u[o],l[t]===n?e.push(l):null!=l[t]&&"string"==typeof l[t]&&""!==l[t]&&"string"==typeof n&&""!==n&&l[field].toLowerCase().indexOf(n.toLowerCase())>-1&&e.push(l);return null!=i&&"function"==typeof i&&i(e),e}return!1},e.prototype.fetch=function(t){return null==t&&(t=""),this.fetchFromUrl(this.api(),t)},e.prototype.fetchFrom=function(t,n,i){return null==i&&(i=""),null!=t&&null!=n&&this.fetchFromUrl(this.api()+(t+"/")+n,i)},e.prototype.fetchFromUrl=function(t){var n,i;if("undefined"!=typeof object&&null!==object&&"object"==typeof t&&null!=t.url)return n=null!=t.limit?t.limit:1e3,i=null!=t.offset?t.offset:0,this.fetchingFrom=t.url,Pinkman.ajax.get({url:t.url+"?limit="+n+"&offset="+i,complete:function(n){return function(i){var e;if(null!=i.errors||null!=i.error)throw e=[i.errors,i.error],n.errors=e[0],n.error=e[1],null!=i.errors?new Error('Oh no... I could not fetch your records, bitch. (jk... about the "bitch" part)'):new Error(i.error);return n.fetchFromArray(i).emptyResponse=0===i.length,null!=t.callback&&"function"==typeof t.callback&&t.callback(n),n}}(this)})},e.prototype.fetchMore=function(t,n){return null==t&&(t=10),null==n&&(n=""),null!=this.fetchingFrom?this.fetchFromUrl({url:this.fetchingFrom,limit:t,offset:this.count(),callback:n}):this.fetchFromUrl({url:this.api(),limit:t,offset:this.count(),callback:n})},e.prototype.fetchMoreFrom=function(t,n,i,e){return null==e&&(e=""),this.fetchFromUrl({url:this.api()+(n+"/")+i,limit:t,offset:this.count(),callback:e})},e.prototype.search=function(t,n){return null==n&&(n=""),this.removeAll(),this.fetchFromUrl({url:this.api()+"search?query="+t,callback:n})},e}(window.PinkmanCommon),window.Pinkman.collection=window.PinkmanCollection}.call(this),function(){window.Pinkman.mixin=function(t,n){var i;if(null!=t&&"string"==typeof t&&null!=n&&"object"==typeof n)return null==Pinkman.mixins&&(Pinkman.mixins=new Pinkman.collection),i=new Pinkman.object,i.set("mix",n),i.set("name",t),Pinkman.mixins.push(i)},window.Pinkman.mixit=function(t,n){var i,e,o,r;if(null!=(e=Pinkman.mixins.getBy("name",n))){r=e.mix;for(o in r)i=r[o],i["super"]=t.prototype[o],t.prototype[o]=i;return!0}return!1}}.call(this),function(){}.call(this),function(){var t=function(t,i){function e(){this.constructor=t}for(var o in i)n.call(i,o)&&(t[o]=i[o]);return e.prototype=i.prototype,t.prototype=new e,t.__super__=i.prototype,t},n={}.hasOwnProperty,i=[].slice;window.PinkmanController=function(n){function e(){var t;t=1<=arguments.length?i.call(arguments,0):[],this.actions=new PinkmanActions,e.__super__.constructor.apply(this,t)}return t(e,n),e.prototype.build=function(){return null!=this.builder&&"function"==typeof this.builder&&(this.builder(this),null!=this.main&&"function"==typeof this.main&&this.main(),!0)},e.prototype.action=function(){var t,n,e,o,r;return n=1<=arguments.length?i.call(arguments,0):[],1===n.length?this.actions.getBy("name",n[0]):(r=n[0],o=n[1],e=n[2],4<=n.length?i.call(n,3):[],t=new PinkmanAction({name:r,eventName:o,call:e,controller:this}),this.actions.push(t),null!=t.call&&"function"==typeof t.call&&t.listen(),t)},e.prototype.bind=function(t,n){return null==n&&(n=""),this.action(t,["keyup","change"],function(){var e,o,r;if(r=arguments[0],o=arguments[1],e=3<=arguments.length?i.call(arguments,2):[],r[t]!==o.val()&&(r.set(t,o.val()),null!=n&&"function"==typeof n))return n.apply(null,[r,o].concat(i.call(e)))})},e.prototype.bindAll=function(){},e.prototype.drop=function(){},e.prototype.endOfPage=function(){},e.prototype.finishEndOfPage=function(){},e}(window.PinkmanObject),window.PinkmanControllers=function(n){function i(){return i.__super__.constructor.apply(this,arguments)}return t(i,n),i}(window.PinkmanCollection),window.PinkmanAction=function(n){function i(){return i.__super__.constructor.apply(this,arguments)}return t(i,n),i.prototype.sameAs=function(t,n){var i;return i=new PinkmanActions,Pinkman.controllers.select(function(n){return n.id===t}).each(function(t){return t.actions.select(function(t){return t.name===n}).each(function(t){return i.push(t)})}),i.each(function(t){return function(n){return t.controller.action(t.name,t.eventName,n.call)}}(this))},i.prototype.attach=function(t){var n;if(Pinkman.isString(t))return n=this,$("body").on(t,"#"+n.controller.id+" [data-action='"+n.name+"']",function(i){var e,o;return"keypress"!==t&&i.preventDefault(),$(this).is("[data-pinkey]")&&(o=$(this).data("pinkey")),null!=o?(e=Pinkman.get(o),n.call(e,$(this),i)):n.call($(this),i)})},i.prototype.listen=function(){var t,n,i,e,o;if(Pinkman.isString(this.eventName))return this.attach(this.eventName);if(Pinkman.isArray(this.eventName)){for(e=this.eventName,o=[],n=0,i=e.length;n<i;n++)t=e[n],o.push(this.attach(t));return o}},i}(window.PinkmanObject),window.PinkmanActions=function(n){function i(){return i.__super__.constructor.apply(this,arguments)}return t(i,n),i}(window.PinkmanCollection),Pinkman.controllers=new window.PinkmanControllers,Pinkman.controllers.isActive=function(t){return null!=this.find(t)},Pinkman.controllers.def=function(t,n){return $(document).ready(function(){var i;return null!=t&&null!=n&&$("#"+t).length>0&&(i=new PinkmanController({id:t,builder:n}),Pinkman.controllers.push(i),i.build())})},Pinkman.controller=function(){var t,n;return t=1<=arguments.length?i.call(arguments,0):[],1===t.length?Pinkman.controllers.find(t[0]):(n=Pinkman.controllers).def.apply(n,t)}}.call(this),function(){}.call(this);